&values
controller:
  ## The name of the Ingress controller daemonset or deployment.
  ## Autogenerated if not set or set to "".
  name: nginx-ingress

  ## The kind of the Ingress controller installation - deployment or daemonset.
  kind: deployment

!, &at [lambda, [list, index],
  [if, [or, [null?, list], [not, [number?, index]]], null,
    [if, [<=, index, 0], [car, list],
      [if, [vector?, list], [vector-ref, index],
        [at, list, [-, index, 1]]]]]]

!, &prop [lambda, [value, path],
  [if, [null?, path], value,
    [if, [or, [vector?, value], [pair?, value]], [prop, [at, value, [car, path]], [cdr, path]],
      [if, [dictionary?, value], [prop, [dictionary-ref, value, [car, path]], [cdr, path]],
        null]]]]

!, [prop, values, !' [controller, name]]
